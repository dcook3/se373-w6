<h2>{{{title}}}</h2>

<form action="../addEmployee" method="post" class="form mx-2 p-3 border border-primary border-2 border-rounded">
    <div class="form-group">
        <label for="firstName" class="form-label">First Name:</label>
        <input name="firstName" type="text" class="form-control">
    </div>
    <div class="form-group">
        <label for="lastName">Last Name:</label>
        <input name="lastName" type="text" class="form-control">
    </div>
    <div class="form-group">
        <label for="department" class="form-label">Department:</label>
        <select name="department" class="form-control">
            <option selected value="IT">IT</option>
            <option value="Accounting">Accounting</option>
            <option value="Sales">Sales</option>
        </select>
    </div>
    <div class="form-group">
        <label for="startDate" class="form-label">Start Date:</label>
        <input name="startDate" type="date" class="form-control">
    </div>
    <div class="form-group">
        <label for="jobTitle" class="form-label">Job Title:</label>
        <input name="jobTitle" type="text" class="form-control">
    </div>
    <div class="form-group">
        <label for="salary" class="form-label">Salary:</label>
        <input name="salary" type="number" class="form-control">
    </div>
    <div class="mx-auto mt-2">
        <button type="submit" class="btn btn-primary">Add Employee</button>
        <button type="button" id="fill" class="btn btn-secondary">Fill Form with Dummy Data</button>
    </div>
</form>


<script>
    var inputs = document.querySelectorAll("input")
    var select = document.querySelector("select")
    const getToday = () => {
            var date = new Date()
            var year = date.toLocaleString("default", { year: "numeric" });
            var month = date.toLocaleString("default", { month: "2-digit" });
            var day = date.toLocaleString("default", { day: "2-digit" });
            return `${year}-${month}-${day}`;
        }
    var dummyData = 
    {
        "firstName": "John",
        "lastName": `TestDummy #${(Math.floor(Math.random() * 10000) + 1)}`,
        "startDate": getToday(),
        "jobTitle": "Tester",
        "salary": Math.floor(Math.random() * 100000) + 1
    }

    var btn = document.querySelector('#fill')

    btn.addEventListener('click', (e) => {
        var ind = 0;
        for(k in dummyData){
            if(inputs[ind].name === k)
            {
                inputs[ind].value = dummyData[k];
            }
            ind++
        }
        select.selectedIndex = Math.floor(Math.random() * 3)
    })
    
</script>